{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getSymbols = require('../compat/_internal/getSymbols.js');\nconst getTag = require('../compat/_internal/getTag.js');\nconst tags = require('../compat/_internal/tags.js');\nconst isPrimitive = require('../predicate/isPrimitive.js');\nconst isTypedArray = require('../predicate/isTypedArray.js');\nfunction cloneDeepWith(obj, cloneValue) {\n  return cloneDeepWithImpl(obj, undefined, obj, new Map(), cloneValue);\n}\nfunction cloneDeepWithImpl(valueToClone, keyToClone, objectToClone, stack = new Map(), cloneValue = undefined) {\n  const cloned = cloneValue?.(valueToClone, keyToClone, objectToClone, stack);\n  if (cloned != null) {\n    return cloned;\n  }\n  if (isPrimitive.isPrimitive(valueToClone)) {\n    return valueToClone;\n  }\n  if (stack.has(valueToClone)) {\n    return stack.get(valueToClone);\n  }\n  if (Array.isArray(valueToClone)) {\n    const result = new Array(valueToClone.length);\n    stack.set(valueToClone, result);\n    for (let i = 0; i < valueToClone.length; i++) {\n      result[i] = cloneDeepWithImpl(valueToClone[i], i, objectToClone, stack, cloneValue);\n    }\n    if (Object.hasOwn(valueToClone, 'index')) {\n      result.index = valueToClone.index;\n    }\n    if (Object.hasOwn(valueToClone, 'input')) {\n      result.input = valueToClone.input;\n    }\n    return result;\n  }\n  if (valueToClone instanceof Date) {\n    return new Date(valueToClone.getTime());\n  }\n  if (valueToClone instanceof RegExp) {\n    const result = new RegExp(valueToClone.source, valueToClone.flags);\n    result.lastIndex = valueToClone.lastIndex;\n    return result;\n  }\n  if (valueToClone instanceof Map) {\n    const result = new Map();\n    stack.set(valueToClone, result);\n    for (const [key, value] of valueToClone) {\n      result.set(key, cloneDeepWithImpl(value, key, objectToClone, stack, cloneValue));\n    }\n    return result;\n  }\n  if (valueToClone instanceof Set) {\n    const result = new Set();\n    stack.set(valueToClone, result);\n    for (const value of valueToClone) {\n      result.add(cloneDeepWithImpl(value, undefined, objectToClone, stack, cloneValue));\n    }\n    return result;\n  }\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(valueToClone)) {\n    return valueToClone.subarray();\n  }\n  if (isTypedArray.isTypedArray(valueToClone)) {\n    const result = new (Object.getPrototypeOf(valueToClone).constructor)(valueToClone.length);\n    stack.set(valueToClone, result);\n    for (let i = 0; i < valueToClone.length; i++) {\n      result[i] = cloneDeepWithImpl(valueToClone[i], i, objectToClone, stack, cloneValue);\n    }\n    return result;\n  }\n  if (valueToClone instanceof ArrayBuffer || typeof SharedArrayBuffer !== 'undefined' && valueToClone instanceof SharedArrayBuffer) {\n    return valueToClone.slice(0);\n  }\n  if (valueToClone instanceof DataView) {\n    const result = new DataView(valueToClone.buffer.slice(0), valueToClone.byteOffset, valueToClone.byteLength);\n    stack.set(valueToClone, result);\n    copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n    return result;\n  }\n  if (typeof File !== 'undefined' && valueToClone instanceof File) {\n    const result = new File([valueToClone], valueToClone.name, {\n      type: valueToClone.type\n    });\n    stack.set(valueToClone, result);\n    copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n    return result;\n  }\n  if (valueToClone instanceof Blob) {\n    const result = new Blob([valueToClone], {\n      type: valueToClone.type\n    });\n    stack.set(valueToClone, result);\n    copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n    return result;\n  }\n  if (valueToClone instanceof Error) {\n    const result = new valueToClone.constructor();\n    stack.set(valueToClone, result);\n    result.message = valueToClone.message;\n    result.name = valueToClone.name;\n    result.stack = valueToClone.stack;\n    result.cause = valueToClone.cause;\n    copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n    return result;\n  }\n  if (typeof valueToClone === 'object' && isCloneableObject(valueToClone)) {\n    const result = Object.create(Object.getPrototypeOf(valueToClone));\n    stack.set(valueToClone, result);\n    copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n    return result;\n  }\n  return valueToClone;\n}\nfunction copyProperties(target, source, objectToClone = target, stack, cloneValue) {\n  const keys = [...Object.keys(source), ...getSymbols.getSymbols(source)];\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const descriptor = Object.getOwnPropertyDescriptor(target, key);\n    if (descriptor == null || descriptor.writable) {\n      target[key] = cloneDeepWithImpl(source[key], key, objectToClone, stack, cloneValue);\n    }\n  }\n}\nfunction isCloneableObject(object) {\n  switch (getTag.getTag(object)) {\n    case tags.argumentsTag:\n    case tags.arrayTag:\n    case tags.arrayBufferTag:\n    case tags.dataViewTag:\n    case tags.booleanTag:\n    case tags.dateTag:\n    case tags.float32ArrayTag:\n    case tags.float64ArrayTag:\n    case tags.int8ArrayTag:\n    case tags.int16ArrayTag:\n    case tags.int32ArrayTag:\n    case tags.mapTag:\n    case tags.numberTag:\n    case tags.objectTag:\n    case tags.regexpTag:\n    case tags.setTag:\n    case tags.stringTag:\n    case tags.symbolTag:\n    case tags.uint8ArrayTag:\n    case tags.uint8ClampedArrayTag:\n    case tags.uint16ArrayTag:\n    case tags.uint32ArrayTag:\n      {\n        return true;\n      }\n    default:\n      {\n        return false;\n      }\n  }\n}\nexports.cloneDeepWith = cloneDeepWith;\nexports.cloneDeepWithImpl = cloneDeepWithImpl;\nexports.copyProperties = copyProperties;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}